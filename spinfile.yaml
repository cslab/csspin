# This is the spinfile.yaml of spin.

plugins:
  - flake8
  - pytest
  - devpi
  - radon
  # - demo-plugin:
  #     - demo_plugin
  # - cedm:
  #     - cedm

extra-tasks:
  # This is the recommended way of installing spin locally as long as
  # it is under development.
  pipx-install:
    script:
      - pipx install --force --spec . --editable spin

cruise:
  "@docker":
    # The docker containers are set up to have 'python' in PATH as the
    # Python version they announce in their name.
    properties:
      python.use: python
  windows:
    banner: "\n\n*** Windows\n"
    image: registry.contact.de/cp38-win_amd64
    tags: docker windows
    cruise_spin: devrun.bat
  linux:
    banner: "\n\n*** Linux\n"
    image: registry.contact.de/cp38-manylinux2014_x86_64
    tags: docker linux
    cruise_spin: ensure-spin
    env:
      LOGLEVEL: DEBUG
  host:
    banner: "\n\n*** Host\n"
    tags: host
